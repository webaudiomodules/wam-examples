<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Wasabi Host</title>
	<script
		src="https://wasabi.i3s.unice.fr/WebAudioPluginBank/bower_components/webaudio-controls2/webaudio-controls.js">
	</script>
	<script
		src="./bpf.js">
	</script>
	<style>
		#wrapper {
			display: flex;
		}

		#left {
			flex: 0 0 25%;
		}

		#right {
			flex: 1;
		}

		#pluginContainer {
			grid-row-start: 1;
			grid-column-start: 1;
		}

		#pluginInfoContainer {
			color: blueviolet;
			font-family: 'Courier New', Courier, monospace;
			grid-row-start: 2;
			grid-column-start: 1;
			border: 1px solid;
			overflow: auto;
			width: 700px;
			height: 300px;

		}

		#pluginAutomationContainer {
			display: flex;
			flex-direction: column;
		}

		#pluginAutomationEditor {
			flex: 0 0 auto;
		}
		#pluginParamSelectorContainer {
			display: flex;
			flex-direction: row;
		}
		#pluginParamSelectorContainer label {
			padding: 0px 6px;
		}
		#pluginParamSelector {
			flex: 1 1 auto;
		}
		#pluginAutomationLength {
    		width: 50px;
		}

	</style>
</head>

<body>
	<header>
		<h1>Example WAM Host</h1>
	</header>
	<main>
		<p><b style="color:red">NEW:</b><a href="../../docs/typedoc/api/index.html">See WAM 2.0 API docs</a></p>
		<p><b style="color:red">NEW:</b><a href="../../docs/typedoc/parammgr/index.html">See WAM 2.0 Parameter Manager docs</a></p>
		<div id="wrapper">
			<div id="left">
				<audio id="player" src="https://wasabi.i3s.unice.fr/WebAudioPluginBank/BasketCaseGreendayriffDI.mp3"
					controls loop crossOrigin="anonymous">
				</audio>
				<p>Select MIDI input device
					<select id="selectMidiInput">
					</select>
				</p>
				<p>Select live input device
					<select id="selectAudioInput">
					</select>
				</p>

				<p>
					<button id="toggleLiveInput">Live input:
						<span style='color:red;'>NOT ACTIVATED</span>, click to toggle on/off!</button>
				</p>
				<form id="form">
					<div id="left">
						<div>
							<p>
								<label>Enter any WAM Plugin URL</label>
								<input type="text" name="pluginUrl" placeholder="Enter a plugin URL" />
							</p>
						</div>
						<div>
							<input type="submit" value="LOAD PLUGIN" />
						</div>
						<p></p>
						<div>
							<ul id="examples">
								<p>Midi</p>
								<li data-plugin-url="midiKeyboard/src">Midi Virtual keyboard</li>
								<li data-plugin-url="VirtualMidiKeyboardNoSound/src">Midi Virtual keyboard No Sound (just emits events)</li>
								<p>Pure JavaScript</p>
								<li data-plugin-url="quadrafuzz/dist">Quadrafuzz</li>
								<li data-plugin-url="quadrafuzz_without_builder/src">Quadrafuzz without builder</li>
								<li data-plugin-url="pingpongdelay/dist">PingPongDelay</li>
								<li data-plugin-url="graphicEqualizer/src">Graphic Equaliser (pureJS)</li>
								<li data-plugin-url="WamExample/src">WAM Example (pureJS)</li>
								<p>Faust</p>
								<li data-plugin-url="faustPingPongDelay/plugin">faustPingPongDelay</li>
								<li data-plugin-url="faustPingPongDelayDefaultUI">faustPingPongDelayDefaultUI</li>
								<li data-plugin-url="GuitarAmpSim60s">Guitar AmpSim 60s (generated by faust IDE)</li>
								<li data-plugin-url="StonePhaserStereo">Stone Phaser (generated by faust IDE)</li>
								<li data-plugin-url="TS9_OverdriveFaustGenerated">TS9 Overdrive (generated by faust IDE)</li>
								<li data-plugin-url="BigMuff">BigMuff Fuzz (generated by faust IDE)</li>
								<li data-plugin-url="faustFlute">faust Flute MIDI</li>
								<p>TypesScript</p>
								<li data-plugin-url="livegain/dist/livegain">LiveGain</li>
								<li data-plugin-url="livegain/dist/oscilloscope">Oscilloscope</li>
								<li data-plugin-url="livegain/dist/spectroscope">Spectroscope</li>
								<li data-plugin-url="livegain/dist/spectrogram">Spectrogram</li>
								<p>CSound</p>
								<li data-plugin-url="csoundPitchShifter/dist">Csound PitchShifter</li>
								<p>Instruments</p>
								<li data-plugin-url="synth101/dist">Synth101</li>
							</ul>
						</div>

				</form>
			</div>
			<div id="right">
				<div id="pluginContainer">
					<div id="mount"></div>
					<br>
					<button id="saveStateButton" disabled>SAVE STATE</button>&nbsp;
					<button id="restoreStateButton" disabled>RESTORE STATE</button>
				</div>
				<div id="pluginInfoContainer">
					<div id="pluginInfoDiv"></div>
				</div>
				<div id="pluginAutomationContainer">
					<div id="pluginParamSelectorContainer">
						<select name="pluginParamSelector" id="pluginParamSelector">
							<option value="-1" disabled selected>Add Automation...</option>
						</select>
						<label for="pluginAutomationLength">Duration (sec):</label>
						<input name="pluginAutomationLength" id="pluginAutomationLength" type="number" min="1" step="0.1" value="1" />
						<input id="pluginAutomationApply" type="button" value="Apply" />
					</div>
					<div id="pluginAutomationEditor">
					</div>
				</div>
				<div id="sendMIDIContainer">
					<button id="sendMIDINoteButton">Send MIDI Note</button>
				</div>
			</div>
		</div>
	</main>

	<script src="main.js"></script>
</body>

</html>
